			       =================
				BOGOFILTER NEWS
			       =================

NOTE: More information on important changes for bogofilter updaters
is in the RELEASE.NOTES files.  Read them!!

0.91.1	2004-??-??

	2004-05-30

	* Fixed registration.  When multiple wordlists are specified,
          registration is to first regular wordlist.
	* Added regresstion test for multiple wordlists.

	2004-05-29

	* Distinguish open modes of READ, WRITE, and CREATE so
	* bogofilter will include .WORDLIST_VERSION in new database.

	2004-05-28

	* Modify contrib scripts so they're sh compatible.
	* Fix problem with not expanding tildes.

	2004-05-23

	* Use named constants for wordlist 'type' attribute.

	2004-05-22

	* Fix problem when bogofilter's home is a symlink.

0.91.0	2004-05-22

	* Miscellaneous cleanups for multiple wordlist code.
	* Cleanup variable names in database open() code.
	* Increase width of 'count' column for -vvv output.

	2004-05-17

	* Add ignore list capability.
	* Revive and revise multiple wordlist code.

0.90.0	2004-05-09

	* Revised bogotune's parameter ranges for coarse scan.

	2004-05-08

	* Changed list address in FAQ to bogofilter.org

	2004-05-05

	* Added code for Robinson's Effective Size Factor (ESF) 
	  to score.c, bogotune.c, bogofilter.cf.example, etc.
	* Added '-E' options to bogotune to suppress ESF scan.

	2004-05-02

	* Remove unreferenced enum wl_e.
	* Add .WORDLIST_VERSION meta symbol.
	* Change subnet prefix from url: to ip:
	* Add -u switch to bogoutil to do wordlist upgrade.
	* Add regression test t.upgrade.subnet.prefix

	2004-04-22

	* Fixed configure's --enable-memdebug option.

	2004-04-12

	* Updated TODO list and procmailrc.example

	2004-04-02

	* Lower output precision for regression tests, by using %f
          rather than %e, to mask differences between GSL versions.

0.17.5	2004-04-01
	2004-04-08 - New Stable Release

	2004-03-31

	* Change default parameters to the results of Greg's 300k ham
	  and 300k spam bogotune run:

		     robs     robx    min_dev  spam_co
	      old  0.010000 0.415000 0.100000 0.950000
	      new  0.017800 0.520000 0.375000 0.990000

	2004-03-22

	* Fix check for PGP signatures.

0.17.4	2004-03-20

	* Ignore data portion of PGP signatures.
	* Use "mime:" (rather than "head:") to tag mime part headers.

	2004-03-19

	* Fix "Can't find '.MSG_COUNT'" problem in bogotune.
	* Fix defect that continues decoding base64/qp after invalid chars.

	2004-03-18

	* Fix message reporting lack of config file.

0.17.3	2004-03-17

	2004-03-15
	
	* Warn if user specified config file doesn't exist.

	2004-03-09

	* Fix tagging of IPAddrs in header lines.

	2004-03-04

	* Added code to use Berkeley DB Concurrent Data Store, which
	  uses a "DB_ENV" BerkeleyDB environment and the BerkeleyDB
	  Lock Manager.  This is documented in file doc/README.db.

	2004-03-03

	* "bogofilter -Q" output now includes all config file options
          and is formatted to be read in as a config file.

	2004-02-27

	* Removed t.lock2 from "make check".

	2004-02-26

	* Fixed minor bogotune problems related to building wordlists.

	2004-02-23

	* Exempt tokens .MSG_COUNT and .ROBX from maintenance operations.
	* Remove unused 'active' and 'weight' attributes of wordlists.
	* If message uses CRLF, put CRLF after added header lines.

	2004-02-22

	* Fixed code causing gcc 2.9x complaint.

0.17.2	2004-02-22

	* Algorithm code cleanup -- created file score.[ch] from
          files method.[ch], robinson.[ch], and fisher.[ch]

	2004-02-21
	
	* Changed path in example config files to /var/spool/bogofilter.

	2004-02-20
	
	* Corrected typos in doc/bogofilter.xml (the man page)
	  and in contrib/mailfilter.example
	* Documented bogoutil's histogram ('-H') option.
	* Revised documentation of '-d', '-p', and '-w' options
	  for bogoutil.
	* Relax filename vs. path restrictions in bogoutil.

	2004-02-19
	
	* Added experimental code for BerkeleyDB environments code
	  for improved locking and caching.

0.17.1	2004-02-09

	* 2004-02-05

	* Additional portability fixes for SunOS 4.1.4

	* 2004-02-04

	* Fix '-d' and '--bogofilter_dir=directory' options.

0.17.0	2004-02-01

	* Documentation cleanups.

	2004-01-31

	* Fixed warnings from Intel C++ 8
	* Portability fixes for SunOS 4.1.4

	2004-01-30

	* Removed DEPRECATED CODE.
	* Bogoutil now 'and's the maintenance operations together.
	* Bogofilter and bogolexer now use standard long option
	  parsing.

	2004-01-25

	* Extracted basic typedefs from system.h into bftypes.h.

	2004-01-23

	* Correct processing order as '-V' doesn't need to read the
          config file.
	* Correct SIGSEGV causes by missing environment variables.

0.16.4	2004-01-23 - Released
	2004-01-31 - Promoted to Stable Version

	2004-01-20

	* Config options 'thresh_stats' and 'thresh_rtable' have been 
	  deprecated.

	2004-01-19

	* Fix bogus config file warnings from bogolexer.
	* Merge lexer rules to save a few bytes.
	* Additional portability fixes.

0.16.3	2004-01-17

	* Removed optional argument from "-u" flag.
	* Config file options can be put on the command line by using
	  "--key=value" syntax.

0.16.2	2004-01-16

	* Added '-c' (compact) option to bogominitrain.pl

	2004-01-14

	* Tag Cc: lines as To: lines.
	* Allow setting threshold for auto-updating, using the "-u
	  value" flag or the "thresh_update=value" option.
	* Minor FAQ updates.

	2004-01-12

	* Pass -mieee to GCC on machines that know this option (Alpha, SH).
	  Prevents SIGFPE and program termination with coredumps in some
	  conditions. Reported by Paul Ackersville, fix suggested by Clint
	  Adams.

	* Fix defined minimum autoconf/automake versions to match actual
	  requirements: autoconf 2.54, automake 1.7.

	* Change AS_HELP_STRING to AC_HELP_STRING for compatibility with older
	  autoconf than version 2.58.

	* Fix two compiler warnings in BerkeleyDB data store code. It is
	  unknown whether one has real-world impact when opening data bases,
	  fixing nonetheless. The other is cosmetic in any case.

	2004-01-09

	* '-H' now disables header tagging for bogofilter and bogolexer.

0.16.1	2004-01-08

	2004-01-07

	* Ignore X-Bogosity lines in message header.

	2004-01-04

	* Updated bogotune man page.
	* Fixed minor errors in bogotune.
	* Corrected memory leaks affecting bogotune.

	2004-01-03

	* Added additional ifdefs for deprecated code.
	* Added database histogram to bogoutil (using '-H' flag).

0.16.0	2004-01-01

	* Added "#ifdef ENABLE_DEPRECATED_CODE" statements as
          appropriate.
	* Corrected configure.ac defect for "--enable-memdebug".
	* Corrected lexer defect that created unnecessary
          "rcvd:Received" tokens.
	* Fixed header file problem that causes sigsegv with qdbm.
	* Expanded VERP pattern to reduce hapax count.

0.15.13	2003-12-31 - Stable Release

	If updating from a bogofilter version older than 0.15.4, it's
	a good idea to retrain or else use the '-H' (header tag
	degeneration) option.

0.15.13	2003-12-26

	* Fix problem with separate wordlists that causes
          "db_get_dbvalue( '...' ), err: 12, out of memory".

	2003-12-25

	* Fixed memory leak affecting bogotune.
	* Added -V (version) option to bogotune.
	* RPM build fixed.  (with help from Charles A Edwards)
	* Compiler options changed to reduce warnings during gsl builds.

0.15.12	2003-12-24

	* Distinguish between pipe and stdin as input sources.
          (contributed by Henning Makholm)

	2003-12-23

	* Minor fixes for parsing msg-count files.
	* Fix sigsegv in bogotune when '-D' option is used.
	* Clarify list of supported mail formats in FAQ.
	* Force line buffered output when not in passthrough mode.
	* Enhance memdebug capabilities.

	2003-12-21

	* Fix decoding of escaped urls.

	2003-12-18

	* Fix compilation problems with datastore_tdb.c and datastore_qdbm.c

0.15.11	2003-12-17

	* Additional portability fixes for DGUX in configure.ac and bogogrep.c

	2003-12-15

	* Bugfix for SIGFPE (division by zero) crash on start-up on systems
	  with BerkeleyDB 3.2 or older.
	* bogotune-faq.html - new file
	* bogofilter-faq.html - updated
	* bogoupgrade - revised help message and man page

	2003-12-14

	* bogotune now understands degeneration options and can use
          them when creating message-count files.

	2003-12-12

	* Fixed CRLF problem in bogoreader.c

	2003-12-11

	* Updates to bogofilter man page and FAQ.
	* Updates to configure scripts and makefiles to support DGUX.
	* Improved configuration of BerkeleyDB and GSL.

	2003-12-10

	* Removed unused '-F' (force) option from bogofilter.
	* Exclude ~ (tilde) at the end of tokens.

	2003-12-09

	* Removed unused '-q' (quiet) option from bogofilter.

0.15.10	2003-12-08

	* Important string format fixes that address "prints garbage" and
	  "crashes" problems.
	* Formatting and portability fixes for DGUX.
	* The test suite ("make check") now works without formail for
	  t.bulkmode.
	* Added -M option to bogotune for creating message count
	  files.  msg-count.sh no longer needed.

	2003-12-07

	* Fixed "configure --enable-static" for building statically
          linked executables.
	* "make check" now uses static executables when "configure
          --enable-static" was used.
	* Revised msg-count.sh so that formail isn't needed.

	2003-12-03

	* Script msg-count.sh has been added to create message count
          files from mailboxes and mail directories.

	2003-12-01

	* Fixed bug in header degeneration.
	* Added degeneration options to config file.
	* Added subject line tagging for Unsures.  (Contributed by
          Burkhard Kaas). 

	2003-11-30

	* Multiple fixes, revisions, and changes to bogotune.

	2003-11-27

	* Fix defect in robx calculation (for bogoutil and bogotune).

	2003-11-24

	* The test suite ("make check") now works without procmail for t.MH
	  and t.maildir.
	* Moved robx calculation code to new file for sharing by bogoutil
	  and bogotune.
	* Fix segfault when using '-H' (header_degen) option.

0.15.9	2003-11-23

	* Minor revisions to the FAQ.
	* Miscellaneous cleanups to bogotune.c
	* Cleanup bogoutil's help message.

	2003-11-20

	* Fixed a defect in lexer.c that was discarding X-Bogosity
          lines in rfc822 attachments.  Thanks to Martin Gagern for
          reporting the problem and supplying a patch.
	* Fixed a memory leak in bogoutil.  Thanks to Dan Deward for
          reporting the problem.
	* Refactored passthrough.c.
	* Test suite bugfixes for TDB/QDBM.

	2003-11-19

	* TDB passes all checks again.
	* Fixed a defect in QDBM support that was breaking maintenance mode.

	2003-11-18

	* Revised wordhash code to minimize storage needed for bogotune.

	2003-11-17

	* Exclude apostrophes and backticks at the end of a token.
	* Updated bogominitrain.pl to v1.4.2
	* BerkeleyDB support warns if data base size approaches file size
	  resource limit, to avoid DB corruption when bogofilter is spawned
	  from Postfix-controlled systems (Postfix by default limits file
	  size to 51,200,000 bytes).

	2003-11-15

	* "<!DOCTYPE HTML PUBLIC...>" is now recognized as starting
          html text.

	2003-11-14

	* Bogotune now checks for incorrectly classified messages in the test
	  data and exits if so.

	* Configure now finds a POSIX compliant shell for running version.sh

	2003-11-12

	* Several minor lexer bugs fixed.
	* Lexer changes reduce size of bogofilter executable by approx 90%.

	2003-11-07

	* Minor error message cleanups.
	* Minor documentation fixes.

	2003-11-05

	* Fixed timestamp config option.
	* Removed repetition counts in lexer for TOKEN and MIME_BOUNDARY
          patterns to reduce executable size.

	2003-11-01

	* Remove --disable-* options for algorithms. Has never been supported
	  well and serves no useful purpose, the algorithm code is irrelevant
	  compared to lexer or other stuff.

0.15.8	2003-10-29

	* Print "X-Bogosity" line when "-t" is used alone.
	* Modified handling of mime attachments to decode rfc822 and
	  to ignore applications and images.

	2003-10-27

	* Change bogoupgrade back to using 2 arg open for perl-5.6
          compatibility.

	2003-10-26

	* Added man page for bogotune.

	2003-10-23

	* Initial release of faster, C language version of bogotune.

	2003-10-21

	* Configure script modified to better detect BerkeleyDB libs.
	* Makefile modified to build bogolexer and bogoutil with fewer
	  shared libs.

	2003-10-19

	* Added decoding of percent escaped characters in URLs.

	2003-10-16

	* English and french versions of bogofilter-faq.html revised.
	* Tuning script doc/bogotune rewritten as C program.

	2003-10-15

	* Fix build problem in doc directory.
	* Refactored source code so bogolexer will build without
          datastore code.

	2003-10-14

	* Fix initialization problem that prevents reading more than
          one msg-count file.
	* Initialize wordhash storage.

0.15.7	2003-10-13

	* Include all tokens in bogoutil dump output (unless in
	  maintenance mode).

	2003-10-08

	* Disable header line tagging when processing msg-count files.

	2003-10-06

	* Added decoding of escaped characters in html.
	* Revised mailbox processing so type recognition is now
	  table driven.
	* Added support for ANT mailboxes.
	* Made portability changes for OS/2 and RISC-OS

0.15.6	2003-10-02

	* Fixed problem in bogoupgrade.
	* Revised configure.ac to remove GLIBC-2.3 dependency and
          include info for DOS-ish file in config.h.

	2003-10-01

	* Bogofilter can now use GSL 1.0 to 1.3 as well as 1.4.
	  If your distribution splits GSL into a library and a developer
	  package (Mandrake and Debian Linux), remember to install both!
	* Rebuild i586.rpm with GSL dynamically linked; source rpms
	  and bogofilter-static rpm not affected.
	* Don't allow whitespace in SMTP and ESMTP tokens.
	* Revised reference ouputs for SMTP/ESMTP change.

0.15.5.2 2003-10-01

	 * Rebuild of i586.rpm with GSL-1.4 dynamically linked.
           Source rpms and bogofilter-static rpm not affected.

0.15.5.1 2003-09-30

	 * Added GSL-1.4 as requirement for binary rpm.
	 * Fixed up t.separate reference test and cleaned up 
	   t.degen, t.split, and t.regtest.
	 * Man page and French FAQ revised.

0.15.5	2003-09-29

	* Added '-H' (header-degen) option to aid transition to new
	  parsing.  See RELEASE.NOTES-0.15 for more info.

	2003-09-28

	* Minor revisions of OS/2 and RISC-OS compatibility code.

	2003-09-27

	* Transaction code added for wordlist maintenance.
	* Timestamp code refactored and moved from maint.c to datastore.c

	2003-09-26

	* VERPs (Variable Envelope Return Paths) now have their
          sequence numbers replaced by a '#' for scoring.
	* Fixed problem that caused auto-update ("-u") to not update
          separate wordlists.
	* End-of-header code revised to ensure that passthrough ("-p")
          properly places the X-Bogosity line.

	2003-09-25

	* GNU GSL 1.4 has replaced DCDFLIB. If GSL 1.4 or newer is
	  installed in your system, bogofilter will use that (which will
	  usually be a shared library); if GSL is missing or a prior
	  version is present, bogofilter will statically link against GSL 1.4
	  excerpts from the gsl/ directory.

 	  While we believe we have been allowed to include DCDFLIB with
	  bogofilter, some people had expressed concerns. GSL is subject
	  to the GNU General Public License v2, so we are DEFINITELY
	  allowed to include it.

	2003-09-22

	* Added support for OS/2's file system.

	2003-09-21

	* Fixed logging behavior when scoring mailboxes, maildirs, etc.
								
	2003-09-20

	* Fixed processing of rmail files.

0.15.4	2003-09-20

	* Additional header line tagging as suggested by Michael O'Reilly.
	* Minor revision of bogotune.

	2003-09-17

	* Report if database file permissions wrong.
	* No longer including pid in syslog error messages.

	2003-09-16

	* No longer ignoring message separators.

	2003-09-15

	* Added BOGOTEST environment variable to enable flex debugging.
	* Minor revision of bogominitrain.pl

	2003-09-13

	* Fixed bogoutil problem with '-w' and '-p'.

	2003-09-12

	* Revise parsing pattern for "encoded text" and regression
          test for folded text.

	2003-09-11

	* Use GSL (the Gnu Scientific Library) when it's available.

0.15.3	2003-09-10

	2003-09-09

	* Fixed maintenance mode (broken during database API rewrite).
	* Added regression test for maintenance mode.
	* Re-organized test framework to put all scripts in src/tests,
          all input files in src/tests/inputs, and reference outputs
          in src/tests/outputs.

	2003-09-08

	* Revised parsing to ignore additional headers, i.e.
          Resent-Message-ID, In-Reply-To, and References.

	2003-09-07
	
	* Fix auto-update ('-u') bug that double registers ham and spam.
	* Correct QDBM optimization problems arising from API change.

0.15.2	2003-09-07

	2003-09-06

	* Header line unfolding now handled by flex rules.
	  Special thanks to Michael O'Reilly for his help!
	* Initial release of RISC-OS support, including qdbm and tdb.
	* QDBM is now supported.
	* The data base configuration has changed. --with-tdb is gone,
	  use --with-database=db, --with-database=tdb or
	  --with-database=qdbm instead.

	2003-09-05

	* Update bogowordfreq to work with bogoreader.
	* Fatal flex errors are now caught and bogofilter exits
          gracefully after closing its database(s).

0.15.1	2003-09-03

	* Limit size of unfolded header lines.

	2003-09-02

	* Check for xmlto during configuration.
	* Fix problem in empty line parsing rule.
	* Fix string termination problem for bulk mode paths.

	2003-09-01

	* Allow -I to be used with file or directory.
	* Revise flex rule for encoded text to reduce program size.

	2003-08-31

	* Revise flex grammar:
	  - to reduce size of generated rules
	  - to simplify handling of header tags and mime parts

	2003-08-30

	* Clean-up message header processing:
	  - Don't tokenize message separator lines.
	  - Merge whitespace separated encoded words.
	  - Unfold header lines.

0.15.0	2003-08-30

	* Fix defective printing in 'bogofilter -Q' output.

	2003-08-28

	* Revise mime processing to cure "fatal flex scanner internal
	  error--end of buffer missed".
	* Restore parsing rule for ending a "loose" html comment.

	2003-08-26

	* Change mime boundary line to operate on raw input,
	  i.e. before decoding it.
	* Add charset map for windows-1251 to KOI8-R (Cyrillic).

	2003-08-24

	* Fix some printf calls for 64-bit machines (%*s).
	* Fix compilation with TDB.
	* The -b and -B options now autodetect Maildir/s and iterate over each
	  mail in them. When the named input is a file, it is assumed to be a
	  single mail unless -s, -S, -n, -N or -M is given - in that case it's
	  an mbox.
	* Revised message reader implementation so the way of specifing the
	  input is independent from the input format (such as mbox vs.
	  Maildir).
	* Bugfixed Maildir implementation to read cur/ and new/.
	* Implement support for MH directory (such as used by Sylpheed).

	2003-08-23

	* Implemented new message reading protocol for processing
	  bulk mode, splitting mailboxes into messages, reading
	  messages in maildirs, etc.

0.14.5.4 2003-08-30

* _Really_ fix defective printing in 'bogofilter -Q' output.

0.14.5.3 2003-08-29

	* Fix parser errors that can cause:
	  1. Incorrect processing of html comments.
	  2. "fatal flex scanner internal error--end of buffer missed", 
	     which kills bogofilter.
	* Fix defective printing in 'bogofilter -Q' output.
	* Compiles with TDB again.

0.14.5.2 2003-08-20 - Stable Release

	* bogominitrain.pl - removed email 'cruft' and revised format
	  of verbose output.

0.14.5.1 2003-08-19

	* Fixed parameter type error in dbh_print_names() that causes
	  segfault.
	* Enhanced verbose output of bogominitrain.pl
	* Documented '-T' option in man page.

	2003-08-18

	* Fixed parsing error that treated "^From " in encoded text as
	  a message separator.

	2003-08-17

	* Revised format for '-T'.
	* Fixed defect in bogominitrain.pl's norepetition mode.

0.14.5	2003-08-15

	* Updated bogominitrain.pl to version 1.3.

	2003-08-14

	* Corrected parsing error (in html code) that caused
	  bogofilter to miss message separators.

	2003-08-12

	* Revised FAQ.
	* Added '-T' as terse mode (with fixed formatting).

	2003-08-10

	* Revised processing of From and empty lines so that parsing
	  works correctly with both flex-2.5.4 and flex-2.5.31.

0.14.4	2003-08-10

	* Updated FAQ.

	2003-08-08

	* Revised database API so that there are 3 distinct layers
	  (program, datastore, and database) with a clean interface
	  between them.
	* Correct exitcodes in bogoutil by using EX_ERROR.

	2003-08-07

	* Fixed token registration bug in 0.14.x versions.
	* Fixed seg fault caused by database lock contention.

0.14.3	2003-08-05

	* Fixed critical locking bug introduced into bogofilter 0.14.0
	  with the combined-wordlist code: when working with separate
	  wordlists, bogofilter would lock only the first one opened,
	  rather than all.
	* Documentation updates.

	2003-08-04

	* %g formatting is now supported by bogofilter's formatting functions.
	* Merged trio 1.10 (http://ctrio.sourceforge.net/) to support
	  compilation on ancient systems (Solaris 2.5) that do not have
	  [v]snprintf functions.
	  Trio is Copyright (C) 1998-2000 Bjorn Reese and Daniel Stenberg.
	* Various documentation updates, including the FAQ.

	2003-08-03
	* The test suite was adjusted for older grep variants (Solaris
	  2.5) that don't cope with long lines.
	* Print database version in print_version().

	2003-08-02

	* Postfix integration instructions have been upgraded.
	* Debug output for wordlists and databases was enhanced.

0.14.2	2003-08-02

	* Replaced use of memcpy() by memmove() in an input routine. The
	  overlapping copy migh cause data corruption on some systems.
	* Fixed "make check" failures for bogoutil introduced with the
	  "combined wordlist" feature in 0.14.0. There has been a buffer
	  overflow. All users of bogofilter with combined wordlist prior to
	  0.14.2 are advised to upgrade.
	* Fixed bogus "t.valgrind" test FAILures.
	* Fixed uninitialized data in db_get_dbvalue(), for split word lists.
	* New file, contrib/vm-bogofilter.el, provides an interface
	  between the VM mail reader and bogofilter."
	* Revised lexer_v3.l for compatibility with flex-2.5.31
	* Break up long line in regression test input for Solaris 2.5
	  compatibility.

0.14.1.1 2003-08-01

	* Fixed check for adding spam_subject_tag to Subject: line.
	* Updated French version of FAQ.

	2003-07-31

	* Correct problem with t.degen regression test.

0.14.1	2003-07-31

	* Updated English version of FAQ.

	2003-07-29

	* Initial release of token degeneration code.

	2003-07-25

	* Revised lexer pattern to better recognize encoded tokens.

	2003-07-24

	* Implemented named exitcodes, with Unsure having its own
	  value (2) and changing the value for error from 2 to 3.

0.14.0.1 2003-07-23

	* Fix problem with encoded text.
	* Fix handling of absolute paths.
	* Fix defect in base64 decoding that can cause segfaults.
	* Bogoutil now complains before exiting when it can't open a
	  file.
	* Updated bogominitrain.pl to work with combined wordlists.

0.14.0	2003-07-22

	* Updated contrib/bogominitrain.pl prints more info and can save
	  messages used in training.

	* Miscellaneous documentation updates.

	2003-07-21

	* Decode encoded text in header lines.

	2003-07-19

	* Bogofilter and bogoutil detect whether one or two wordlists
	  are in BOGOFILTER_DIR and use the appropriate wordlist mode
	  (combined or separate).

	* Bogofilter's -V output now includes algorithm and database
	  info.

	2003-07-18

	* Default wordlist mode is single, combined wordlist.
	  File wordlist.db contains all spam and ham tokens.

	2003-07-17

	* Added tdb (trivial database) support.

	2003-07-16

	* Initial release of code allowing bogofilter to use a single,
	  combined BerkeleyDB database for storing both ham and spam
	  tokens.  The file is named wordlist.db.

0.13.7.3 2003-07-16

	* Added contrib/bogominitrain.pl

	2003-07-15

	* Fix bug in "boundary" parser, which ignored boundaries with spaces.

	2003-07-05

	* Updated doc/integrating-with-qmail

	2003-07-03

	* Accept whitespace in html tags.
	* Checks for "Subject:" are now case insensitive.
	* Adds "Subject:" header if needed for including
	  spam_subject_tag.
	  (Thanks to Pavel Kankovsky for these patches.)

0.13.7.2 2003-07-02 - Stable Release

	* Fixed loop in yyinput() caused by unexpected EOF.

0.13.7.1 2003-06-26

	* Update bogotune to version 0.3
	* Added '-k size' option to bogofilter and bogoutil for
	  setting BerkeleyDB's cache size.

	2003-06-25

	* For bogotune change processing of '-t' switch from pass 1 to
	  pass 2 so that it supercedes the config file.
	* Man pages now use '\ ' when a non-breaking space is needed,
	  instead of 0xA0.

	2003-06-24

	* '-Q' processing no longer requires that spamlist.db be present.

0.13.7	2003-06-20

	* Replaced tuning/tuning.sh with tuning/bogotune (and related files).

0.13.6.3 2003-06-18

	* Minor code rewrites to speed up processing messages, mboxes,
	  and msg-count files.	In particular, tuning/tuning.sh runs
	  are approx 47% faster than before.
	* Fixed several errors in tuning/tuning.sh and reformatted
	  "Top 10 Results" output.
	* Minor changes to bogoutil to support bogotune script.
	* Added newlines to correct usage messages.

0.13.6.2 2003-06-05

	* Don't allow square brackets in tokens.  Do allow dollar
	  signs in tokens in msg-count files.
	* Bogolexer now ignores first 'From' token to match scoring
	  behavior of bogofilter.

0.13.6.1 2003-06-05

	* Updated file tuning/README and script tuning/tuning.sh.

0.13.6	2003-06-04

	* Fix check for "^From " lines to work properly during base64
	  decoding. 
	* End html comment processing when a message header is found.
	* Improve README for the tuning scripts and simplify them.

0.13.5	2003-06-03

	* Allow terminal exclamation points on tokens.
	* Updated contrib/mime.get.rfc822

	2003-06-02

	* Fixed bogofilter's non-use of message counts in msg-count files.
	* Diagnose invalid values of robx.
	* Modified rstats_print_histogram() so it doesn't print 'nan's.
	* Modified t.frame to find version of grep on Solaris so
	  t.bulkmode can run successfully.

0.13.4.1 2003-05-31

	* Modified t.parsing test so it works with OSX's default file system.

0.13.4	2003-05-30

	* Changed default value of ROBS from 0.001 to 0.01
	* Fixed options '-M' (mailbox mode) and '-p' (passthrough
	  mode) so they work properly together.
	* Minor cleanups in bogofilter.cf.example
	* Added db-3.2 and db-3.1 to list for AC_CHECK_DB in configure.ac

0.13.3	2003-05-28

	* Minor code tweaks to quiet gcc-3.3 warnings.

	2003-05-26

	* Added doc/programmer/README.osx to distribution.
	* Corrected FAQ's procmail recipe for training with SpamAssassin.

	2003-05-24

	* Added -V (version) option to bogolexer.
	* Tweaked long line check used to prevent scanner buffer overflow.

0.13.2.1 2003-05-24

	 * In bulkmode, output filenames to stdout.

	 * Further fixes for static-build system.

0.13.2	2003-05-24

	* Autoconfiguration of BerkeleyDB library has been improved.
	* Build procedure for statically linked binaries has been improved.

	* Fixed defect in replace_nonascii_characters that was
	  superseding ignore_case option.

	* Portability fix for efence usage in t.frame.

	* Added static-build to solve glibc version problem.

0.13.1	2003-05-23

	* Modified "make rpm" to also build statically linked binaries.
	  They're packaged in bogofilter-static-x.y.z-1.i586.rpm

	* Fixed bogofilter.spec.in to include files CHANGES-0.13 and
	  RELEASE.NOTES-0.13 which had been left out.

	* tests/t.frame portability fix for non-Linux compatibility.

0.13.0	2003-05-21

	* Added file RELEASE.NOTES-0.13.  Read it!

	* Changed parsing defaults to:

	  -PI	ignore_case		(default is disabled)
	  -Ph	header_line_markup	(default is enabled)
	  -Pt	tokenize_html_tags	(default is enabled)
	
	* Recognize a line of whitespace as ending the message header.

	* contrib/randomtrain and contrib/scramble can now process
	  both mbox and maildir formats.
	* Added perl script contrib/mime.get.rfc822 to extract
	  forwarded messages from with a message.
	
	* Added basic support for emacs RMAIL mailboxes.
	* Removed incomplete RMAIL/Babyl-5 support.

	* Registration code modified to count unique tokens for each
	  message and display the total of the counts.

	* Added 'bogo-what?' to FAQ.

0.12.3	2003-05-10

	* Modified bulk mode code to allow registering maildirs.
	* Added options to return tokens from inside HTML tags.
	  Switch '-Ht' and option "tokenize_html_tags" turn it on.
	* Bogofilter's '-e' switch can now be used without '-p'.
	* Added doc/integrating-with-postfix.
	* Added bogofilter-faq-fr.html, a French translation of the FAQ.
	* Revise description of verbose output in FAQ.
	* Update man page documentation of bogofilter's switches.
	* Added basic memory accounting and debug capability.
	* Fixed memory leak in rstats.c
	* Fixed defect in handling of folded spam header lines.
	* Modified parsing so that yyredo() and yy_use_redo_text()
	  are no longer needed.

0.12.2	2003-04-30

	* Corrected bulkmode problem processing messages without
	  "^From " lines.
	* Corrected alignment of wordprop_t which caused bus error
	  on risc.
	* Added directory to 'Error creating directory' message.

0.12.1	2003-04-25

	* Corrected bad BOGOFILTER_DIR value in t.bulkmode
	* Subdirectories contrib and tuning now install from rpm
	  to /usr/share/bogofilter.

0.12.0	2003-04-24

	* Corrected some errors in rpm specfile.

	2003-04-23
	* Added 'tuning' directory with scripts for tuning bogofilter.
	  (cf. bogofilter-tuning.HOWTO)

	2003-04-21
	* Added '-M' to allow classification of multiple messages in
	  mbox formatted files.
	* New option '-Q' (query/display config) replaces '-qv'.
	* Grouped options into logical groups for help message and
	  man page.  Revised option descriptions.

	2003-04-19
	* Added bogofilter-tuning.HOWTO as replacement for README.Robinson

	2003-04-18
	* Added classification support for msg-count formatted files.
	* Add bogolex.sh for creating msg-count formatted email file.

	2003-04-17
	* Added bulk mode procesing for Maildirs.
	  '-b' reads filenames from stdin.
	  '-B' gets filenames from the command line.

	2003-04-16
	* Miscellaneous refactoring in main.c

0.11.2	- stable version

	2003-04-13

	* Added 'terse' option to bogofilter.cf for selecting format of
	  X-Bogosity line.

	2003-04-11

	* Use frexp() to retain maximum precision of floating point results.

0.11.1.9

	2003-04-10

	* Reformat histogram output (from "-vv") to fit in 80 columns.
	* Added sample configuration for maildrop.

	2003-04-09

	* Added protections against negative token counts to
	  bogoutil.c and database_db.c
	* Additional portability changes made to the regression tests.
	* Enhanced '-m' option allows specifying robs value.

0.11.1.8

	2003-04-07
	* Include 'strict_check' in '-qv' output.
	* Correct outdated acinclude.m4, as it causes the configure
	  script to be invalid.
	* Revised UPGRADE document.
	* Added contrib/bogotrain.sh

0.11.1.7

	2003-04-07
	* Change bogoutil's '-p' option to require a database.
	* Fix OS X segfault caused by using DB handle after closing database.

	2003-04-05
	* Improve bogoutil's reporting of a bad directory or filename.
	* Simplify configure check for BerkeleyDB.
	* Extend configure's compiler checks for AIX.

0.11.1.6

	2003-04-01
	* Changed default value of 'strict_check' to 'no' (disabled).

	2003-03-30
	* Added config file option 'strict_check' for processing
	  html comments.  Enabled means to use "<!--" and "-->" to
	  delimit comments.  Disabled uses "<!" and ">".

0.11.1.5

	2003-03-28
	* Bogofilter now frees _all_ memory that it allocates.
	* FAQ reorganized and info added on asian spam, the format of
	  verbose output, and using SpamAssassin to train bogofilter.
	* Fixed processing of '-o' option.

0.11.1.4

	2003-03-25
	* Cleaned up help messages and added version info.
	* Expanded bogofilter-faq.html
	* Fixed precedence for directory specifications.
	* Fixed processing of folded X-Bogosity line.
	* Fixed processing of spam_subject_tag.

0.11.1.3 - stable release

	2003-03-10
	* Expanded regression tests.
	* Cleaned up fprintf() arguments.
	* Cleaned up message and mime header checks.
	* Additional improvements to maintenance code.

0.11.1.2

	2003-03-06
	* Fixed bogoutil's broken maintenance mode.
	* Update bogofilter documentation and FAQ.
	* Explicitly check linking against libdb early to avoid unspecific
	  error messages as "cannot determine size of unsigned short".
	* Retry locking without mmap() on systems that return the old-fashioned
	  EACCES rather than EAGAIN for locking failures such as AIX 4.3.3.
	* Fix potential division by zero in histogram generator, it caused
	  program abort after not handling floating point exceptions on some
	  architectures such as Alpha. The division by zero is now avoided.

0.11.1.1 2003-03-05

	* Fixed flaw that caused user config file to be ignored.
	* Fixed broken '-u' (update) code.
	* Updated documentation of bogolexer and bogoutil.


0.11.1 2003-03-04

	 * Using standard html comment delimiters when ignoring comments.
	 * Fixed charset initialization flaw.

0.11.0	 2003-03-03

	* The Robinson-Fisher algorithm is now the default algorithm.
	* The configuration file parser is stricter and more correct.
	* Separated message registration options from unregistration
	  options.  '-S' and '-N' have been changed and now just do
	  unregistration.  To move a message from one wordlist to the
	  other, use '-S -n' or '-N -s' (as appropriate)
	* Bogofilter's -p (passthrough) mode will no longer read the entire
	  mail into memory if the standard input is a seekable regular file.
	* Bogofilter's '-l' option was changed and no longer allows an
	  argument.  Use the new '-L yourtag' option to provide a tag
	  for log messages.
	* Database access efficiency changes.
	* Improvements in html comment handling code.
	* Internal cleanup of storage used in parsing messages and
	  working with databases.
	* Manual pages now contain the proper path to bogofilter.cf.

0.10.3.1  2003-02-17

	* Updated bogofilter and bogoutil man pages.
	* Give command line options preference over config file options.

0.10.3	2003-02-14

	* Database access efficiency changes.
	* Database properly closed at end of maintenance pass.
	* Improvements in html comment handling code.
	* Support option '-?'

0.10.2	 2003-02-01

	* Stable release of 0.10.1.5

0.10.1.5 2003-02-01
0.10.1.4 2003-01-30
0.10.1.3 2003-01-29
0.10.1.2 2003-01-27
0.10.1.1 2003-01-25
0.10.1	 2003-01-22

	* A variety of robustness and portability changes, code and
	  file cleanups and documentation updates.
	* Multiple fixes for mime and html processing.
	* Additional support and fixes for the various spam scoring
	  algorithms.
	** See file CHANGES-0.10 for details of the above items.

0.10.0	2003-01-19

	* Added mime processing capability, with decoding of base64,
	  quoted-printable and uuencoded sections.  Ignores attachments when
	  computing spamicity.
	* Added wordlist maintenance capability to bogoutil.  Can ignore
	  tokens based on count, age, or length.  Can replace non-ASCII chars
	  with question marks.
	* Added dates to wordlist tokens.  Option "datestamp_tokens=true|false"
	  can be used to enable/disable them.
	* Moved most documentation files to doc directory.
	* Added sample procmail file, contrib/procmailrc.example
	* Spamicity score now computable from multiple word list pairs, i.e. all
	  spam and ham word lists in directories named on command line or in
	  config file (via "wordlist=" or "bogofilter_dir=" lines).
	* Lexer is now case insensitive
	* Increase MAXTOKENLEN from 20 to 30, allowing more and longer tokens
	  to be processed.
	* New options for setting of default charset and replacing of non-ASCII
	  characters.	New character set handling routines to provide charset 
	  specific token parsing.
	* New error handling routine will output error messages to stderr and,
	  if '-l' (logging) is enabled, to syslog.
	* New message formatting capability allows formats to be put in config
	  file for X-Bogosity line and logging messages.  Message content can
	  include status, spamicity, version, etc.
	* Long-standing locking bugs that caused corruption in the database
	  have been resolved.
	* Work around ash-0.2 and bash-1 bugs, needed for make check.
	* Cater for malloc/calloc implementations that return NULL when 0 bytes
	  of memory are requested, some AIX versions e. g., that would
	  previously falsely claim an "out of memory" condition.
	  (also available as patch for 0.9.1.2)
	* Reorder gcc __attribute__ lines for gcc-2.7 compatibility.
	  (also available as patch for 0.9.1.2)

0.9.1.2	2002-12-05

	* A defect in the collect_words routines (in 0.9.1) caused
	  incorrect generation of "must get only one message to
	  calculate spamicity!" messages.  This has been fixed.
	* A defect in the contrib/bogopass script caused the unbase64-edited
	  version of the mail to be printed rather than the original with just
	  the header added. This has been fixed.
	* Documentation has been revised and updated.
	* Robinson-Fisher method now produces a tristate status, i.e.
	  spam/ham/unsure, if ham_cutoff is non-zero.  ham_cutoff defaults to
	  0.1 and can be set via config file.
	* Script contrib/bogopass has revised error and environment checking.

0.9.1	2002-11-30

	* New script contrib/bogopass allows processing of base64
	  attachments.	This is a temporary solution until base64
	  code can be built into bogofilter.
	* New file README.Robinson describes the tunable parameters
	  for the Robinson algorithm and what to do for best performance.
	* Changed the default behavior to use the Robinson algorithm.
	* Corrected incorrect sort order when printing statistics.
	* Added support for Fisher's method of combining probabilities,
	  as optimized for this purpose by Rob W. W. Hooft, to the
	  "Robinson" algorithm.
	* The new file METHODS describes the Graham, Robinson, and Fisher
	  methods that bogofilter supports for computing spamicity.
	* New file README.dcdflib gives some info on the dcdflib free
	  library of routines for cumulative distribution functions.
	* A new '-f' option tells bogofilter to use Fisher's method.
	* A new '-c' option in bogofilter allows specification of the
	  configuration file to read.
	* A new '-C' option tells bogofilter not to read any config file.
	* The syslog facility in '-l' mode has changed from "daemon" to "mail",
	  so your logs may now be in /var/log/maillog or /var/log/mail rather
	  than /var/log/messages. Check your /etc/syslog.conf.
	* The testing framework now works on Solaris.

	Internal Changes:
	* Fixed several portability problems uncovered by the new
	  regression tests.
	* Added three more regression tests designed to confirm that
	  bogofilter's results are matching saved reference results.
	* Implemented an object oriented API for using computational methods.
	* Split the main module into a registration module and three algorithm
	  modules - for the fisher, graham and robinson methods.
	* Registering big mbox files is much faster now, at the expense of some
	  memory.

0.8.0	2002-11-10

	* The lexer code now detects read errors (and exits with code 2
	  if it finds one.)
	* Fixed passthrough mode in bogofilter: it no longer strips the
	  spam-header from a mail body.
	* Fixed portability to some systems, notably, Solaris
	  and HP-UX, added README. for some systems to describe build
	  issues. 
	* Fixed "rpl_malloc" link failures.
	* Fixed bogofilter 0.7.6 passthrough regression on some
	  systems: The X-Bogofilter header would be added to the body
	  and a bogus blank line would be added.
	* Bogofilter now supports a configuration file named
	  /etc/bogofilter.cf and/or ~/.bogofilter.cf.
	* Bogofilter's use of '-v' for printing spamicity statistics
	  has been organized with increasing levels of details as
	  additional '-v's are added.
	* When using the Robinson algorithm, bogofilter can print a
	  simple histogram showing word probability distribution.
	* Bogoutil supports a new '-w' switch for displaying tokens
	  from the word list databases.
	* Bogolexer added to distribution.  Provides easy access to
	  parsing a file to examine the tokens.
	* Bogolexer has a new '-p' (passthrough) for printing tokens and
	  bogoutil has a new '-p' (probability) for printing the
	  probabilities of one or more tokens.	They can be connected
	  via pipe to display the probabilities of all words in a message.
	* DB 4.1 support has been fixed.
	* Documentation updates.

0.7.6	2002-10-27

	* Added README.hp-ux for those using HP-UX.
	* Added support for additional architectures - ia64, arm,
	  powerpc, and s390.
	* Bogofilter -p mode now preserves CR and NUL characters.
	* Bogofilter -p mode now detects if the computer runs out of
	  memory.
	* Bogofilter supports a new "-l" switch to write run-time log
	  information to syslog.
	* Bogofilter supports a new algorithm to calculate the
	  "spamicity", the "Robinson" algorithm. It is enabled with the
	  new "-r" switch. The old behavior is called the "Graham"
	  algorithm and can be enforced with the new "-g" switch.  The
	  default behavior is to use the "Graham" algorithm.
	* Bogofilter now has an "-R FILE" option (that implies -r) to print
	  an R data frame to FILE.
	* Bogofilter and bogoutil now have a "-x CLASSES" option to turn
	  on debugging.
	* Bogoupgrade.pl has been renamed to bogoupgrade.
	* There is now a man page for bogoupgrade.
	* BASE64 treatment has been fixed. It ignored whole lines if
	  they consisted of a single token. Now a token is only
	  considered base64 and ignored if it's >= 32 characters or ends
	  in one or two padding "=" signs.
	* MIME boundary lines are now emitted as tokens. Some of them
	  are typical of certain spam software, so they might turn out
	  to be useful.
	* All control characters are now considered token delimiters.
	* Bogofilter now aborts if it cannot figure where to look for its
	  database directory.
	* The software no longer crashes on machines that do not allow
	  for unaligned memory access (m68k; many RISC, e. g. SPARC).
	* DB 4.1 is now supported.
	* Documentation updates.

0.7.5	Sun Oct 20 17:34:35 PDT 2002

	* The header in bogofilter -p mode now defaults to X-Bogosity, but 
	  can be changed by using "./configure --enable-spam-header=name" at
	  compile time.
	* The option names -h/-H are back to -n/-N like they were in version 
	  0.6, and -h now means "help".
	* A utility has been added to help upgrade wordlists from older 
	  versions of bogofilter to the current format. See the UPGRADE file 
	  for more information.
	* Support has been added for the environment variable BOGOFILTER_DIR 
	  to control where bogofilter looks for it's wordlists.
	* Now bogofilter no longer depends on the Judy package. We now use a 
	  high performance hashing algorithm for message evaluation. The Judy 
	  package is no longer required to compile or run bogofilter.
	* Support for the -e flag, which will cause bogofilter to exit with a 
	  value of 0 regardless of the spamicity of the message. This is useful
	  when using -p mode.
	* Support for -u flag. This allows message evaluation and training to 
	  happen in the same invocation of bogofilter.
	* Extended TOKEN patterns to improve support for European languages.
	* Improved wordlist locking to prevent data corruption.
	* Added procmail recipes for example usage in the man page.

0.7.4	Tue Sep 17 02:29:48 EDT 2002

	* Added infrastructure to support multiple wordlists
	* Fixed classification bug
	* Fixed errors in documentation
	* Improved portability of locking code
	* Fixed 'last line occasionally emitted twice' bug
	* Cleaned up underflow checking for word counts in bogofilter.c
	* Code readability improvements
	* Split main() function in bogofilter.c into smaller pieces
	* Message processing performance improvements

0.7.3	Thu Sep 12 13:28:37 PDT 2002

	Adrian Otto:
	* Added portable file locking support for files and databases
	David Relson
	* Bug fix for negative counts in word registration
	* Bug fix for SEGV in $HOME path code
	* Bug fix for trailing slash in -d option

0.7.2: Wed Sep 11 15:28:00 PDT 2002

	Adrian Otto:
	* Introduced GNU configure for portability code

0.7.1: Tue Sep 10 00:59:00 PDT 2002

	Adrian Otto: 
	* Skip existing X-Spam-Header
	* Performance improvement for -p mode
	Paul Tomblin:
	* Bug fix in getopt argument
		
0.7: Sat Sep  7 14:18:33 EDT 2002

	Eric S. Raymond:
	* Check your scripts!  Option names have changed.
	* Name changes: goodlist -> hamlist, badlist-> spamlist.
	  This is a step towards supporting more categories.
	* Autodaemon is gone.  Instead, the new implementation uses
	  DBM.	Optimization with mmap will be in a future release.
	* Speed-tuning of the bogofilter function.
	* We're back to not ignoring HTML comments.

0.6: Fri Aug 30 00:25:49 EDT 2002

	* Fixed a fluky bug in the socket-transmission logic
	* Fixed an edge case where a single message with a From line
	  was getting counted twice.
	* Unknown-word probability bumped from 0.2 to 0.4, tracking a
	  change by Paul Graham.
	* Documented -d option.

0.5: Thu Aug 29 13:38:12 EDT 2002

	* Passthrough option can be used to add an X-Spam-Status header.
	* There is now a per-message word frequency cap, so spammers can't do
	  an equivalent of Google fodder.
	* HTML comments are now ignored.
	* HTML 4.0 keywords and attributes are now ignored.
	* Improved extrema calculation.
	* Mutt patch withdrawn -- have a better version of mutt macros instead.
	* -S and -N options from matt@lickey.com (Matt Armstrong).
	* Client-server partitioning with a persistent server, drastically
	  reducing startup cost after the first run.
	* Minor bug fix by Eric Seppanen.

0.4: Sat Aug 24 09:07:45 EDT 2002

	* regenerated bogofilter mutt patch.
	* wordlist files are now automatically created in -s and -n modes.
	* Reversed the exit values, following a suggestion by Michael Elkins
	  about how to make bogofilter fail gracefully.
	* -Wall cleanup and uninitialized-variable fix from Eric Seppanen.
	* fcntl(2) file locking to head off a race condition in write_list.
	* Added the long-sought procmail recipe.

0.3: Fri 23 Aug 03:30:49 EDT 2002

	* Specfile/Makefile improvements from Graham Reed.
	* Case blindness fix from Eric Seppanen.
	* Deallocation fix from Mike Mayfield.
	* Wordlist file format changed.

0.2: Tue Aug 20 06:49:42 EDT 2002

	* Added mutt-1.4 interface patch
	* Note:	 Location of the base directory has changed.

0.1: Mon 19 Aug 2002 03:07:31

	* Initial release.

$Id$

 vim:tw=79 com=bf\:* ts=8 sts=8 sw=8 ai:

 LocalWords:  BOGOFILTER Exp procmail contrib Spamicity config spamicity
 LocalWords:  bogoutil datestamp MAXTOKENLEN charset stderr syslog gcc malloc
 LocalWords:  calloc Bogosity
